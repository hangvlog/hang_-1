
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    const arr = ["1.32.0","1.4","4","2.1.2","3.3.3.3.3.3.3"]
    //利用冒泡
    arr.sort((a,b)=>{
      let i = 0
      const arr1 = a.split(".")
      const arr2 = b.split(".")
      while(1){
        let tmp1 = arr1[i]
        let tmp2 = arr2[i]
        i += 1
        if (tmp1 === tmp2) continue
        return tmp1 - tmp2
      }
    })
    // console.log(arr);

    //变式1 基础
    //冒泡排序
    const arr1 = [2,3,5,4,1]
    function bufferSort(arr){
      for (let i = 0; i < arr.length -1; i++) {
        for (let j = i+1; j < arr.length; j++) {
          if ( arr[i] > arr[j]){
            let tmp = arr[i];
            arr[i] = arr[j];
            arr[j] = tmp;
          }
        }
      }
      return arr;
    }
    // console.log(bufferSort(arr1));

    //利用冒泡 求解
    const arr2 = ["1.32.0","1.4","4","2.1.2","3.3.3.3.3.3.3"]
    // 修改比较规则
    function myCmp(str1,str2){
      let i = 0
      let ans
      const a1 = str1.split('.')
      const a2 = str2.split('.')
      while (true){
        let tmp1 = a1[i]
        let tmp2 = a2[i]
        i++
        if (tmp1 === tmp2) continue
        // return !!(tmp1 - tmp2)
        ans = tmp1 - tmp2
        if (ans > 0){
          return true
        }else{
          return false
        }
      }
    }
    // console.log(myCmp(arr2[0],arr2[1]));
    //冒泡实现
    function bufferSort(arr){
      for (let i = 0; i < arr.length - 1; i++) {
        for (let j = i+1; j < arr.length; j++) {
          //每次交换能实现将最大的元素放到数组的最后
          if (myCmp(arr[i],arr[j])){
            let tmp = arr[i];
            arr[i] = arr[j];
            arr[j] = tmp;
          }
        }
      }
      return arr;
    }
    // console.log(bufferSort(arr2));

    //到了这里我们也算是手撕了js数组的方法sort了吧？
    //不过冒泡排序的时间复杂度太高了
    //基础2 快速排序
    const arr3 = [2,3,5,1,6,4]
    function quickSort(arr){
      if (arr.length <= 1) return arr
      //定义一个基准值
      let baseValue = arr[0];
      const left = []
      const right = []
      for (let i = 1; i < arr.length; i++){
        if (arr[i] <= baseValue){
          left.push(arr[i])
        }else{
          right.push(arr[i])
        }
      }
      return [...quickSort(left),baseValue,...quickSort(right)]
    }
    // console.log(quickSort(arr3));


    //优化我们最开始的版本排序
    function quickSort(arr){
      if (arr.length <= 1) return arr
      //定义一个基准值
      let baseValue = arr[0];
      const left = []
      const right = []
      for (let i = 1; i < arr.length; i++){
        // if (baseValue > arr[i]){
        if (myCmp(baseValue, arr[i])){
          left.push(arr[i])
        }else{
          right.push(arr[i])
        }
      }
      return [...quickSort(left),baseValue,...quickSort(right)]
    }
    console.log(quickSort(arr));

    //大功告成到了这里基本所有排序及变式都已经掌握啦
    //当然我们的排序算法还有好多：堆排序，桶排序......
  </script>
</body>
</html>